<?phpfunction apiGetCommentsByTypeId(&$usr, $params, $server_path){	$rel = isset($server_path) ? $server_path : '../../../';	include_once $rel.'services/get.php';	include_once $rel.'utils/json.php';	include_once $rel.'utils/secureVars.php';	include_once $rel.'globals/conventions.php';	include_once 'utils/extra_data.php';		saveExtraDatas($usr, $params);	$elt_type = (isset($params["type"]) && isRessourceType($params["type"])) ? $params["type"] : null;	$elt_id = safe_int(isset($params["id"]) ? $params["id"] : null);	$p = safe_int(isset($params["p"]) ? $params["p"] : '1');		if($elt_type != null && $elt_id != null){		$pages = getTotalCommentPages($usr, $elt_type, $elt_id);		if($p > $pages){$p = $pages;}		$comment_result = getComments($usr, $elt_type, $elt_id, $p, utf8_decode('Ce commentaire a été modéré.'));		return createCommentsJson($usr, $comment_result, $p, $pages);	} else{ return createErrorJson($usr, 400); } // paramètres incorrects}?>