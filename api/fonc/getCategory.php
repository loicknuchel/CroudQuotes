<?php// API : category.php:GET?key={key}[&p={no_category_page}]function apiGetCategories(&$usr, $params, $server_path){	$rel = isset($server_path) ? $server_path : '../../../';	include_once $rel.'services/get.php';	include_once $rel.'utils/json.php';	include_once $rel.'utils/secureVars.php';	include_once 'utils/extra_data.php';		saveExtraDatas($usr, $params);	$p = isset($params["p"]) ? ($params["p"] == 'all' ? $params["p"] : safe_int($params["p"])) : '1';		if($p == 'all'){		$pages = 1;	}	else{		$pages = getTotalCategoriesPages($usr);		if($p > $pages){$p = $pages;}	}		$categories_result = getCategories($usr, $p);		if($categories_result != null){		if($p == 'all'){$p = 1;}		return createCategoriesJson($usr, $categories_result, $p, $pages);	} else{ return createErrorJson($usr, 404); } // pas de résultats}?>