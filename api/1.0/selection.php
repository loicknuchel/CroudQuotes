<?php	$rel = '../../';	include_once '../fonc/getSelection.php';	include_once '../fonc/postSelection.php';	include_once $rel.'filtres/filtre.php';	include_once $rel.'utils/json.php';	include_once $rel.'utils/secureVars.php';		if(isset($_POST['key']) || (isset($_GET['key']) && isset($_GET['meth']) && $_GET['meth'] == "post") ){		if(isset($_GET['meth']) && $_GET['meth'] == "post"){$par = $_GET;}		else{$par = $_POST;}				$usr = null;		$usr['key'] = safe_string(isset($par["key"]) ? $par["key"] : null);		filtre($usr); // exit if incorrect				if(isset($par['quoteids']) && $par['quoteids'] != ''){			echo apiNewSelection($usr, $par, $rel);		}		else if(isset($par['sel']) && $par['sel'] != '' && isset($par['addids']) && $par['addids'] != '' && isset($par['pass']) && $par['pass'] != ''){			echo apiAddToSelection($usr, $par, $rel);		}		else if(isset($par['sel']) && $par['sel'] != '' && isset($par['remids']) && $par['remids'] != '' && isset($par['pass']) && $par['pass'] != ''){			echo apiRemToSelection($usr, $par, $rel);		}		else{			echo createErrorJson($usr, 400); // paramètres incorrects		}	}	else if(isset($_GET['key'])){		$usr = null;		$usr['key'] = safe_string(isset($_GET["key"]) ? $_GET["key"] : null);		filtre($usr); // exit if incorrect				echo apiGetSelections($usr, $_GET, $rel);	}	else{		echo createErrorJson(null, 401); // clé de connexion incorrecte	}	?>